"use strict";var User=require("../models/user"),path=require("path"),fs=require("fs");exports.updateUserProfile=function(r,t){var s,a,n;return regeneratorRuntime.async(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,s=r.params.userId,e.next=4,regeneratorRuntime.awrap(User.findById(s));case 4:if(a=e.sent){e.next=7;break}return e.abrupt("return",t.status(404).json({message:"User not found"}));case 7:return r.body.latitude&&r.body.longitude&&(a.location.coordinates=[r.body.latitude,r.body.longitude]),r.file&&(n=path.join("uploads",r.file.filename),a.profilePhoto=n),e.next=11,regeneratorRuntime.awrap(a.save());case 11:t.json({message:"User profile updated successfully"}),e.next=18;break;case 14:e.prev=14,e.t0=e.catch(0),console.error(e.t0),t.status(500).json({message:"Server Error"});case 18:case"end":return e.stop()}},null,null,[[0,14]])};
//# sourceMappingURL=userProfileContoller.min.js.map
